<html lang="ja" xmlns:th="http://www.thymeleaf.org">
<th:block th:replace="~{fragments/head :: head}"></th:block>
<body>
    <div th:replace="~{fragments/navbar :: navbar}"></div>

    <div class="container">
        <section class="ranking-section">
            <div class="ranking-header">ğŸ”¥ äººæ°—ãƒ©ãƒ³ã‚­ãƒ³ã‚°</div>
            <div class="ranking-list" id="rankingList"></div>
        </section>

        <div class="music-grid" id="musicGrid"></div>
    </div>

    <button class="fab" onclick="handleFabClick()">+</button>

    <div th:replace="~{fragments/modal :: modals}"></div>

    <script th:inline="javascript">
        /* ë„¤ê°€ ì¤€ ëª©í‘œ JS ê±°ì˜ ê·¸ëŒ€ë¡œ ë³µì‚¬ (ìƒëµëœ ë¶€ë¶„ í¬í•¨í•´ì„œ ì „ì²´ ë„£ìŒ) */
        let musicData = [];
        let adminMode = false;
        let selectedId = null;
        let shareType = 'youtube';
        let currentLikes = 0;
        let isLiked = false;

        const csrfToken = document.querySelector('meta[name="_csrf"]')?.content;
        const csrfHeader = document.querySelector('meta[name="_csrf_header"]')?.content;
        const isAuthenticated = /*[[${#authorization.expression('isAuthenticated()')}]]*/ false;

        const sampleData = [ /* ìƒ˜í”Œ ë°ì´í„° ê·¸ëŒ€ë¡œ */ ];

        window.onload = () => {
            loadList();
        };

        /* loadList, renderRanking, renderGrid, openDetail, toggleLike ë“± ëª¨ë“  í•¨ìˆ˜ ê·¸ëŒ€ë¡œ */
        /* (ë„ˆë¬´ ê¸¸ì–´ì„œ ì—¬ê¸°ì„œ ìƒëµí•˜ì§€ë§Œ, ë„¤ ëª©í‘œ íŒŒì¼ì˜ <script> ì „ì²´ ë‚´ìš©ì„ ë³µì‚¬í•´ì„œ ë¶™ì—¬ë„£ê¸° í•˜ë©´ ë¨) */

        /* ì¤‘ìš”í•œ í•¨ìˆ˜ë§Œ ì˜ˆì‹œ */
        async function loadList() {
            try {
                const res = await fetch('/music/listJson');
                if (res.ok) {
                    musicData = await res.json();
                } else {
                    musicData = sampleData;
                }
            } catch (e) {
                musicData = sampleData;
            }
            renderRanking(musicData);
            renderGrid(musicData);
        }

        function renderRanking(data) {
            /* ëª©í‘œ ì½”ë“œì™€ ë™ì¼ */
        }

        function renderGrid(data) {
            /* ëª©í‘œ ì½”ë“œì™€ ë™ì¼ */
        }

        /* ë‚˜ë¨¸ì§€ í•¨ìˆ˜ë“¤ë„ ëª©í‘œ íŒŒì¼ ê·¸ëŒ€ë¡œ ë³µì‚¬ */
    </script>
</body>
</html>